<div class="flex flex-col flex-auto min-w-0">

    <!-- Main -->
    <div class="flex-auto p-6 sm:p-10">

        <!-- CONTENT GOES HERE -->
        <div class="h-400  min-h-400 max-h-400 ">
            <form [formGroup]="dateForm" (submit)="submit()">
                <div class="row mrg-btm-15 border-radius-4 border-white border-danger">
                    <div class="input-group">
                        <mat-form-field color="accent" class="mr-5 w-90">
                            <input matInput [matDatepicker]="picker1" class="form-control input-sm bg-white" formControlName="start">
                            <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1 color="primary"></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field color="accent" class="mr-10 w-90">
                            <input matInput [matDatepicker]="picker2" class="form-control input-sm bg-white w-48 mr-15" formControlName="end">
                            <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
                            <mat-datepicker #picker2 color="primary"></mat-datepicker>
                        </mat-form-field>
                        <button class="mat-elevation-z0 mr-1 " mat-mini-fab color="primary" type="submit" aria-label="Example icon button with a filter list icon">
                            <mat-icon>search</mat-icon>
                        </button>
                        <button class="mat-elevation-z0 mr-1 " mat-mini-fab color="primary" aria-label="Example icon button with a filter list icon" (click)="resetForm()">
                            <mat-icon>refresh</mat-icon>
                        </button>
                        <button class="btn btn-dark btn-sm m-0" type="button" (click)="resetForm()">
                            <i class="fa fa-refresh"></i>
                        </button>
                    </div>
                </div>
            </form>


            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    {{summary2.InvoicePaymentSummary?.total}} : Totale paiements
                </div>

                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    {{summary2.InvoiceSummary?.total}} : Totale factures
                </div>

                <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
                    {{summary2.InvoiceSummary?.balance}} : Montant factures impayés
                </div>
            </div>

            <div class="mt-8">
                <div class="example-container mat-elevation-z8">
                    <div class="example-table-container">
                        <table mat-table [dataSource]="data" class="example-table"
                               matSort matSortActive="created_at" matSortDisableClear matSortDirection="desc">
                            <!-- Number Column -->
                            <ng-container matColumnDef="payé le">
                                <th mat-header-cell *matHeaderCellDef> Payé le </th>
                                <td mat-cell *matCellDef="let row">{{ row.paid_at | date }}</td>
                            </ng-container>

                            <ng-container matColumnDef="contact">
                                <th mat-header-cell *matHeaderCellDef> Contact </th>
                                <td mat-cell *matCellDef="let row">{{ row.contact_name }}</td>
                            </ng-container>

                            <ng-container matColumnDef="catégorie">
                                <th mat-header-cell *matHeaderCellDef> Catégorie </th>
                                <td mat-cell *matCellDef="let row">{{ row.Category.name }}</td>
                            </ng-container>

                            <ng-container matColumnDef="description">
                                <th mat-header-cell *matHeaderCellDef> Description </th>
                                <td mat-cell *matCellDef="let row">{{ row.description }}</td>
                            </ng-container>

                            <ng-container matColumnDef="compte">
                                <th mat-header-cell *matHeaderCellDef> Compte </th>
                                <td mat-cell *matCellDef="let row">{{ row.Account.name }}</td>
                            </ng-container>

                            <ng-container matColumnDef="montant">
                                <th mat-header-cell *matHeaderCellDef> Montant </th>
                                <td mat-cell *matCellDef="let row">{{ row.amount }}</td>
                            </ng-container>

                            <ng-container matColumnDef="créer le">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear> Créé le </th>
                                <td mat-cell *matCellDef="let row">{{ row.created_at | date}}</td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                        </table>
                    </div>

                    <mat-paginator [length]="resultsLength" [pageSize]="size" aria-label="Select page of GitHub search results"></mat-paginator>
                </div>
            </div>
        </div>

    </div>

</div>
