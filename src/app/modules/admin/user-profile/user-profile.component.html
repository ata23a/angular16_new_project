<div class="flex flex-col flex-auto min-w-0">

    <!-- Header -->
    <div class="flex flex-col shadow bg-card">

        <!-- Cover image -->
        <div>
            <img
                class="h-40 lg:h-80 object-cover"
                src="assets/images/cover.jpg"
                alt="Cover image">
        </div>

        <!-- User info -->
        <div class="flex flex-col flex-0 lg:flex-row items-center w-full mx-auto px-8 lg:h-18 bg-card">

            <!-- Avatar -->
            <div class="-mt-26 lg:-mt-22 rounded-full" style="position: relative;">
                <img
                    class="w-32 h-32 rounded-full ring-4 ring-bg-card"
                    [ngStyle]="{objectFit: 'cover', marginTop: '12px'}"
                    alt=""
                    [docType]="'photo'"
                    [docId]="user?.photo"
                    appImagesrc
                />
                <span class="w-3 h-3 rounded-full mt-30 -ml-5" (click)="photoInput.click()" style="position: absolute; top: 0; right: 0;">
                    <mat-icon svgIcon="heroicons_outline:camera"></mat-icon>
                </span>
                <input class="d-none" type="file" name="img-upload" id="img-upload" #photoInput
                       [uploader]="uploader" ng2FileSelect>
            </div>

            <!-- Details -->
            <div class="flex flex-col items-center lg:items-start mt-4 lg:mt-0 lg:ml-8">
                <div class="text-lg font-bold leading-none">{{user?.name}}</div>
                <div class="text-secondary">{{user?.email}}</div>
            </div>

            <!-- Separator -->
            <div class="hidden lg:flex h-8 mx-8 border-l-2"></div>

            <!-- Stats -->
            <div class="flex  items-center mt-6 lg:mt-0 space-x-6">
                <div class="flex flex-col items-center">
                    <ng-container *ngIf="user">
                        <qrcode [qrdata]="user.code" allowEmptyString="true" [width]="72" ></qrcode>
                    </ng-container>
                </div>
                <div class="flex flex-col items-center">
                    <button>BADGE</button>
                </div>
            </div>

            <!-- Menu -->
            <div class="flex items-center mt-8 mb-4 lg:m-0 lg:ml-auto space-x-6">
                <mat-tab-group class="mt-10" (selectedIndexChange)="tabChanged($event)">
                    <mat-tab label="Information" [@selectedTab]="selectedTabIndex === 0"></mat-tab>
                    <mat-tab label="Profile" [@selectedTab]="selectedTabIndex === 1"></mat-tab>
                    <mat-tab label="Géographie" [@selectedTab]="selectedTabIndex === 2"></mat-tab>
                    <mat-tab label="Historique" [@selectedTab]="selectedTabIndex === 3"></mat-tab>
                    <mat-tab label="Mobile" [@selectedTab]="selectedTabIndex === 4"></mat-tab>
                </mat-tab-group>
            </div>



        </div>

    </div>

    <!-- Main -->
    <div class="flex-auto p-6 sm:p-10">
        <div class="h-200 min-h-200 max-h-200 rounded-2 overflow-y-auto">
            <ng-container *ngIf="selectedTabIndex === 0">
                Content Information
            </ng-container>
            <ng-container *ngIf="selectedTabIndex === 1">
                Profile contenu
            </ng-container>
            <ng-container *ngIf="selectedTabIndex === 2">
                Géographie contenu
            </ng-container>
            <ng-container *ngIf="selectedTabIndex === 3">
                Historique contenu
            </ng-container>
            <ng-container *ngIf="selectedTabIndex === 4">
                Mobile contenu
            </ng-container>
        </div>
    </div>
</div>

